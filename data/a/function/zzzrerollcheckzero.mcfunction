execute as @e[tag=score,scores={reroll=0}] run execute store result score @e[type=minecraft:armor_stand,limit=1,tag=score] rcounta run execute if entity @a
execute as @e[tag=score,scores={reroll=0}] run tag @a remove r
execute as @e[tag=score,scores={reroll=0}] run tag @s add r

execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=1}] run scoreboard players set @s rcounta 1
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=2}] run scoreboard players set @s rcounta 2
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=3}] run scoreboard players set @s rcounta 2
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=4}] run scoreboard players set @s rcounta 3
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=5}] run scoreboard players set @s rcounta 4
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=6}] run scoreboard players set @s rcounta 4
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=7}] run scoreboard players set @s rcounta 5
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=8}] run scoreboard players set @s rcounta 6
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=9}] run scoreboard players set @s rcounta 6
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=10}] run scoreboard players set @s rcounta 7
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=11}] run scoreboard players set @s rcounta 8
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=12}] run scoreboard players set @s rcounta 8
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=13}] run scoreboard players set @s rcounta 9
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=14}] run scoreboard players set @s rcounta 10
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=15}] run scoreboard players set @s rcounta 10
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=16}] run scoreboard players set @s rcounta 11
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=17}] run scoreboard players set @s rcounta 12
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=18}] run scoreboard players set @s rcounta 12
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=19}] run scoreboard players set @s rcounta 13
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=20}] run scoreboard players set @s rcounta 14
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=21}] run scoreboard players set @s rcounta 14
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=22}] run scoreboard players set @s rcounta 15
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=23}] run scoreboard players set @s rcounta 16
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=24}] run scoreboard players set @s rcounta 16
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=25}] run scoreboard players set @s rcounta 17
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=26}] run scoreboard players set @s rcounta 18
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=27}] run scoreboard players set @s rcounta 18
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=28}] run scoreboard players set @s rcounta 19
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=29}] run scoreboard players set @s rcounta 20
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=30}] run scoreboard players set @s rcounta 20
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=31}] run scoreboard players set @s rcounta 21
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=32}] run scoreboard players set @s rcounta 22
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=33}] run scoreboard players set @s rcounta 22
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=34}] run scoreboard players set @s rcounta 23
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=35}] run scoreboard players set @s rcounta 24
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=36}] run scoreboard players set @s rcounta 24
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=37}] run scoreboard players set @s rcounta 25
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=38}] run scoreboard players set @s rcounta 26
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=39}] run scoreboard players set @s rcounta 26
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=40}] run scoreboard players set @s rcounta 27
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=41}] run scoreboard players set @s rcounta 28
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=42}] run scoreboard players set @s rcounta 28
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=43}] run scoreboard players set @s rcounta 29
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=44}] run scoreboard players set @s rcounta 30
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=45}] run scoreboard players set @s rcounta 30
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=46}] run scoreboard players set @s rcounta 31
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=47}] run scoreboard players set @s rcounta 32
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=48}] run scoreboard players set @s rcounta 32
execute as @e[tag=score,scores={reroll=0}] run execute as @e[tag=score,scores={rcounta=49}] run scoreboard players set @s rcounta 33


execute as @e[tag=score,scores={reroll=0}] run tellraw @a [{"color":"gold","bold":true,"selector":"@a[scores={reroll=1..},limit=1]"},{"bold":false,"text":" has voted to start a reroll (1/"},{"bold":false,"score":{"name":"@e[limit=1,tag=score]","objective":"rcounta"}},{"bold":false,"text":"). This vote will reset in 30 seconds."}]
execute as @e[tag=score,scores={reroll=0}] run tellraw @a {"color":"gray","bold":true,"text":"Keep in mind that a reroll causes everyone to lose their items!"}
execute as @e[tag=score,scores={reroll=0}] run execute as @a at @s run playsound minecraft:block.beacon.activate master @a
execute as @e[tag=score,scores={reroll=0}] run tag @a[scores={reroll=1..},limit=1] add r
execute as @e[tag=score,scores={reroll=0}] run scoreboard players set @s rcountb 1
execute as @e[tag=score,scores={reroll=0}] run scoreboard players set @s reroll 600

execute as @e[tag=score,scores={rcounta=1}] run schedule function a:zzzrerollcheckoneppatch 1t

scoreboard players reset @a reroll